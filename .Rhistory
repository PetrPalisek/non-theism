h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b
BiG1 | l*t1
BiG2 | k*t1
BiG2 | l*t2
BiG3 | k*t1
BiG3 | l*t2
BiG4 | k*t1
BiG4 | l*t2
BiG1 ~ 0*1
BiG2 ~ NA*1
BiG3 ~ NA*1
BiG4 ~ NA*1
PR2 | pr1*t1
PR2 | pr2*t2
PR2 | pr3*t3
PR2 | pr4*t4
PR2 | pr5*t5
PR2 | pr6*t6
PR3 | pr1*t1
PR3 | pr2*t2
PR3 | pr3*t3
PR3 | pr4*t4
PR3 | pr5*t5
PR3 | pr6*t6
CR2 | cr1*t1
CR2 | cr2*t2
CR2 | cr3*t3
CR2 | cr4*t4
CR2 | cr5*t5
CR2 | cr6*t6
CR3 | cr1*t1
CR3 | cr2*t2
CR3 | cr3*t3
CR3 | cr4*t4
CR3 | cr5*t5
CR3 | cr6*t6
H2 | hth1*t1
H2 | hth2*t2
H2 | hth3*t3
H2 | hth4*t4
H3 | hth1*t1
H3 | hth2*t2
H3 | hth3*t3
H3 | hth4*t4
"
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp, estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "PR4", "CR2", "CR3", "CR4", "H2", "H3", "H4", "T2", "PST"),
std.lv = T)
lavaan.mi::standardizedSolution.mi(full_ordinal_fit)
full_ordinal_prereg <- "
PST_l =~ PST
PST ~~ 0*PST
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST_l
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ PR2 + CR2 + h2.1a*H2 + h2.2a*T2
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h3.1b*PR3 + h3.2b*CR3 + h2.1d*H3
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR2 ~ MS1
PR3 ~  PR2 + MS1 + h3.1a*H2 + T2
# CR
CR2 ~ MS1
CR3 ~ CR2 + MS1 + H2 + h3.2a*T2
# H
H2 ~ MS1
H3 ~ arH*H2
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b
BiG1 | l*t1
BiG2 | k*t1
BiG2 | l*t2
BiG3 | k*t1
BiG3 | l*t2
BiG4 | k*t1
BiG4 | l*t2
BiG1 ~ 0*1
BiG2 ~ NA*1
BiG3 ~ NA*1
BiG4 ~ NA*1
PR2 | pr1*t1
PR2 | pr2*t2
PR2 | pr3*t3
PR2 | pr4*t4
PR2 | pr5*t5
PR2 | pr6*t6
PR3 | pr1*t1
PR3 | pr2*t2
PR3 | pr3*t3
PR3 | pr4*t4
PR3 | pr5*t5
PR3 | pr6*t6
CR2 | cr1*t1
CR2 | cr2*t2
CR2 | cr3*t3
CR2 | cr4*t4
CR2 | cr5*t5
CR2 | cr6*t6
CR3 | cr1*t1
CR3 | cr2*t2
CR3 | cr3*t3
CR3 | cr4*t4
CR3 | cr5*t5
CR3 | cr6*t6
H2 | hth1*t1
H2 | hth2*t2
H2 | hth3*t3
H2 | hth4*t4
H3 | hth1*t1
H3 | hth2*t2
H3 | hth3*t3
H3 | hth4*t4
"
fitmeasures(full_ordinal_fit)
full_ordinal_fit
lavaan.mi::standardizedSolution.mi(full_ordinal_fit)
summary(full_ordinal_fit)
summary(full_ordinal_fit)
s <- lavaan.mi::standardizedSolution.mi(full_ordinal_fit)
View(s)
full_ordinal <- "
PST_l =~ PST
PST ~~ 0*PST
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST_l
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 + PR2_l + CR2_l
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR2_l =~ PR2
PR2 ~~ 0*PR2
PR3 ~  PR2_l + h3.1a*H2 + T2
# CR
CR2_l =~ CR2
CR2 ~~ 0*CR2
CR3 ~ CR2_l + H2 + h3.2a*T2
# H
H2 ~ MS1
H3 ~ arH*H2
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b
BiG1 | l*t1
BiG2 | k*t1
BiG2 | l*t2
BiG3 | k*t1
BiG3 | l*t2
BiG4 | k*t1
BiG4 | l*t2
BiG1 ~ 0*1
BiG2 ~ NA*1
BiG3 ~ NA*1
BiG4 ~ NA*1
PR2 | pr1*t1
PR2 | pr2*t2
PR2 | pr3*t3
PR2 | pr4*t4
PR2 | pr5*t5
PR2 | pr6*t6
PR3 | pr1*t1
PR3 | pr2*t2
PR3 | pr3*t3
PR3 | pr4*t4
PR3 | pr5*t5
PR3 | pr6*t6
CR2 | cr1*t1
CR2 | cr2*t2
CR2 | cr3*t3
CR2 | cr4*t4
CR2 | cr5*t5
CR2 | cr6*t6
CR3 | cr1*t1
CR3 | cr2*t2
CR3 | cr3*t3
CR3 | cr4*t4
CR3 | cr5*t5
CR3 | cr6*t6
H2 | hth1*t1
H2 | hth2*t2
H2 | hth3*t3
H2 | hth4*t4
H3 | hth1*t1
H3 | hth2*t2
H3 | hth3*t3
H3 | hth4*t4
"
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp, estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
std.lv = T)
warnings()
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp, estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
std.lv = F)
full_ordinal_fit
full_ordinal <- "
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 + PR2_l + CR2_l
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR2_l =~ PR2
PR2 ~~ 0*PR2
PR3 ~  PR2_l + h3.1a*H2 + T2
# CR
CR2_l =~ CR2
CR2 ~~ 0*CR2
CR3 ~ CR2_l + H2 + h3.2a*T2
# H
H2 ~ MS1
H3 ~ arH*H2
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b
BiG1 | l*t1
BiG2 | k*t1
BiG2 | l*t2
BiG3 | k*t1
BiG3 | l*t2
BiG4 | k*t1
BiG4 | l*t2
BiG1 ~ 0*1
BiG2 ~ NA*1
BiG3 ~ NA*1
BiG4 ~ NA*1
PR2 | pr1*t1
PR2 | pr2*t2
PR2 | pr3*t3
PR2 | pr4*t4
PR2 | pr5*t5
PR2 | pr6*t6
PR3 | pr1*t1
PR3 | pr2*t2
PR3 | pr3*t3
PR3 | pr4*t4
PR3 | pr5*t5
PR3 | pr6*t6
CR2 | cr1*t1
CR2 | cr2*t2
CR2 | cr3*t3
CR2 | cr4*t4
CR2 | cr5*t5
CR2 | cr6*t6
CR3 | cr1*t1
CR3 | cr2*t2
CR3 | cr3*t3
CR3 | cr4*t4
CR3 | cr5*t5
CR3 | cr6*t6
H2 | hth1*t1
H2 | hth2*t2
H2 | hth3*t3
H2 | hth4*t4
H3 | hth1*t1
H3 | hth2*t2
H3 | hth3*t3
H3 | hth4*t4
"
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp, estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
std.lv = F)
full_ordinal_fit
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = df,
estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
mising = "pairwise",  control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = df,
estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
missing = "pairwise",  control = list(iter.max = 10e5))
summary(part_ordinal_fit, std = T, fit = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = mice.imp[[1]],
estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
missing = "pairwise",  control = list(iter.max = 10e5))
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp,
estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
missing = "pairwise",  control = list(iter.max = 10e5))
warnings()
full_ordinal_fit
controls_mi
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp,
estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
missing = "listwise",  control = list(iter.max = 10e5))
full_ordinal_fit
s
View(s)
full_ordinal <- "
PST_l =~ PST
PST ~~ 0*PST
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST_l
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 + PR2_l + CR2_l
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR2_l =~ PR2
PR2 ~~ 0*PR2
PR3 ~  PR2_l + h3.1a*H2 + T2
# CR
CR2_l =~ CR2
CR2 ~~ 0*CR2
CR3 ~ CR2_l + H2 + h3.2a*T2
# H
H2 ~ MS1
H3 ~ arH*H2
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b
BiG1 | l*t1
BiG2 | k*t1
BiG2 | l*t2
BiG3 | k*t1
BiG3 | l*t2
BiG4 | k*t1
BiG4 | l*t2
BiG1 ~ 0*1
BiG2 ~ NA*1
BiG3 ~ NA*1
BiG4 ~ NA*1
PR2 | pr1*t1
PR2 | pr2*t2
PR2 | pr3*t3
PR2 | pr4*t4
PR2 | pr5*t5
PR2 | pr6*t6
PR3 | pr1*t1
PR3 | pr2*t2
PR3 | pr3*t3
PR3 | pr4*t4
PR3 | pr5*t5
PR3 | pr6*t6
CR2 | cr1*t1
CR2 | cr2*t2
CR2 | cr3*t3
CR2 | cr4*t4
CR2 | cr5*t5
CR2 | cr6*t6
CR3 | cr1*t1
CR3 | cr2*t2
CR3 | cr3*t3
CR3 | cr4*t4
CR3 | cr5*t5
CR3 | cr6*t6
H2 | hth1*t1
H2 | hth2*t2
H2 | hth3*t3
H2 | hth4*t4
H3 | hth1*t1
H3 | hth2*t2
H3 | hth3*t3
H3 | hth4*t4
"
full_ordinal_fit <- lavaan.mi::sem.mi(full_ordinal, mice.imp,
estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "CR2", "CR3", "H2", "H3", "T2", "PST"),
missing = "listwise",  control = list(iter.max = 10e5))
s <- lavaan.mi::standardizedSolution.mi(full_ordinal_fit)
full_ordinal_fit
s
View(s)
fitmeasures(full_ordinal_fit)
lavInspect(full_ordinal_fit, what = "cov.lv")
nobs(full_ordinal_fit)
(15475.243-171)/171*1387
(15475.243-171)/(171*1387)
sqrt((15475.243-171)/(171*1387))
lavTestLRT.mi(full_ordinal_fit)
View(extract_defined_params_lavaan)
View(extract_defined_params_lavaanmi)
standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "def.std.all")
standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "cor.lv")
standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "lv")
standardizedSolution.mi(full_ordinal_fit, return.vcov = F, type = "cov.lv")
standardizedSolution.mi(full_ordinal_fit, return.vcov = T, type = "cov.lv")
?standardizedSolution.mi
standardizedSolution.mi(full_ordinal_fit, return.vcov = F, type = "cov.lv")
View(full_ordinal_fit)
compareFit(full_ordinal_fit)
