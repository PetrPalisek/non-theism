library(semTools)
summary(controls_mi, fit = T, asymptotic = T)
summary(full_lin_mi, fit = T, std = T, asymptotic = T)
full_ordinal <- "
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 +  PR2 + CR2
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR3 ~  PR2 + h3.1a*H2 + T2
# CR
CR3 ~ CR2 + H2 + h3.2a*T2
# H
H2 ~ MS1
H3 ~ arH*H2
H4 ~ H3
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b"
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = mice.imp[1], estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"))
?sem
mice.imp[1]
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(optim.method = "BFGS", max.iter = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(max.iter = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"), orthogonal = F,
control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::lavaan(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"), orthogonal = F,
control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::lavaan(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"), orthogonal = F,
control = list(iter.max = 10e5), int.iv.free = T)
part_ordinal_fit <- lavaan::lavaan(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"), orthogonal = F,
control = list(iter.max = 10e5), int.ov.free = T)
full_ordinal <- "
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 +  PR2 + CR2
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR3 ~  PR2 + h3.1a*H2 + T2
# CR
CR3 ~ CR2 + H2 + h3.2a*T2
PR2 ~~ CR2
# H
H2 ~ MS1
H3 ~ arH*H2
H4 ~ H3
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b"
part_ordinal_fit <- lavaan::lavaan(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), int.ov.free = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), int.ov.free = T)
full_ordinal <- "
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 +  PR2 + CR2
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR3 ~  PR2 + h3.1a*H2 + T2
# CR
CR3 ~ CR2 + H2 + h3.2a*T2
PR2 ~~ CR2
# H
H2 ~ MS1
H3 ~ arH*H2
H4 ~ H3
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b"
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), int.ov.free = T)
full_ordinal <- "
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 + PR2 + CR2
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR3 ~  PR2 + h3.1a*H2 + T2
# CR
CR3 ~ CR2 + H2 + h3.2a*T2
PR2 ~~ CR2
# H
H2 ~ MS1
H3 ~ arH*H2
H4 ~ H3
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b"
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), int.ov.free = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), representation = "RAM")
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5))
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), auto.var = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4"),
control = list(iter.max = 10e5), auto.cov.y = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "PR4", "CR2", "CR3", "CR4", "H2", "H3", "H4", "T2", "PST"),
control = list(iter.max = 10e5), auto.cov.y = T)
full_ordinal <- "
BiG1 ~ Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE + OtherE
BiG2 ~ Male + BlackProt + Catholic + MainProt   + BlackE + LatinxE + OtherE
BiG3 ~ Male + BlackProt + Catholic + MainProt + BlackE + LatinxE + OtherE
BiG4 ~ Age + Male + BlackProt + Catholic + MainProt  + BlackE + LatinxE  + OtherE +
Inc3 + ParRit + College + HighSchool + PST
BiG2 ~ BiG1 + h1a*MS1
BiG3 ~ ar3*BiG2 + h1b*MS1+ h2.1a*H2 +h2.2a*T2 + PR2 + CR2
BiG4 ~ ar4*BiG3 + h1c*MS1 + h2.1b*H2 + h2.2b*T2 + h2.1d*H3 + h3.2b*PR3 +  h3.1b*CR3
eta_BiG =~ BiG1 + 1*BiG2 + 1*BiG3 + 1*BiG4
# Misc
MS1 ~ ParCollege + ParHighSchool + BlackE + LatinxE + OtherE
BlackProt ~ BlackE
Catholic ~ LatinxE
BlackProt + MainProt + Catholic ~ OtherE
College + HighSchool ~ ParCollege + ParHighSchool + Age + MS1
Inc3 ~ MS1
ParRit ~ ParCollege + ParHighSchool
# PR
PR3 ~  PR2 + h3.1a*H2 + T2
# CR
CR3 ~ CR2 + H2 + h3.2a*T2
# H
H2 ~ MS1
H3 ~ arH*H2
H4 ~ H3
# T
T2 ~ MS1
## MS1 -> BiG2 -> BiG3
ms1_big3 := h1a*ar3
## MS1 -> BiG3 -> BiG4
ms1_big4 := h1b*ar4
## H2 -> BiG3 -> BiG4
h2_big4 := h2.1a*ar4
## T2 -> BiG3 -> BiG4
t2_big4 := h2.2a*ar4
## H2 -> H3 -> BiG4
h2_h3_big4 := arH*h2.1d
h1a_ := h1a
h1b_ := h1b
h1c_ := h1c
## H2 -> PR3 -> BiG4
h3.1indirect := h3.1a*h3.1b
h3.1direct := h2.1b
## T2 -> CR3 -> BiG4
h3.2indirect := h3.2a*h3.2b
h3.2direct := h2.2b"
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "delta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "PR4", "CR2", "CR3", "CR4", "H2", "H3", "H4", "T2", "PST"),
control = list(iter.max = 10e5), auto.cov.y = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp_lin[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "PR4", "CR2", "CR3", "CR4", "H2", "H3", "H4", "T2", "PST"),
control = list(iter.max = 10e5), auto.cov.y = T)
part_ordinal_fit <- lavaan::sem(model = full_ordinal, data = data.frame(mice.imp[1]), estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "PR4", "CR2", "CR3", "CR4", "H2", "H3", "H4", "T2", "PST"),
control = list(iter.max = 10e5), auto.cov.y = T)
summary(part_ordinal_fit, fit = T, std = T)
hypothesis_elements <-  rownames(standardizedSolution.mi(part_ordinal_fit, return.vcov = TRUE, type = "def"))
library(lavaan.mi)
hypothesis_elements <-  rownames(standardizedSolution.mi(part_ordinal_fit, return.vcov = TRUE, type = "def"))
hypothesis_elements <-  rownames(standardizedSolution(part_ordinal_fit, return.vcov = TRUE, type = "def"))
full_ordinal_fit <- semTools::runMI(full_ordinal, mice.imp, fun = "sem", estimator = "WLSMV", parameterization = "theta",
meanstructure = T, ordered = c("BiG1", "BiG2", "BiG3", "BiG4", "ParRit", "PR2",
"PR3", "PR4", "CR2", "CR3", "CR4", "H2", "H3", "H4", "T2", "PST"),
auto.cov.y = T)
warnings()
hypothesis_elements <-  rownames(standardizedSolution(part_ordinal_fit, return.vcov = TRUE, type = "def"))
hypothesis_elements <-  rownames(standardizedSolution(part_ordinal_fit, type = "vcov.def"))
hypothesis_elements <-  rownames(standardizedSolution(part_ordinal_fit, type = "vcov.def.all"))
hypothesis_elements <-  rownames(standardizedSolution(part_ordinal_fit))
indices <- rep(NA, length(hypothesis_elements))
indices[i] <- which(standardizedSolution(part_ordinal_fit)[, 'label'] == param)
est <- lavaan.mi::standardizedSolution(part_ordinal_fit)[indices, 'est.std'] # estimates
est <- standardizedSolution(part_ordinal_fit)[indices, 'est.std'] # estimates
names(est) <- hypothesis_elements
hypothesis_elements <-  rownames(standardizedSolution(part_ordinal_fit, return.vcov = TRUE, type = "def"))
full_ordinal_fit
hypothesis_elements <-  rownames(standardizedSolution(full_ordinal_fit, return.vcov = TRUE, type = "def"))
hypothesis_elements <-  rownames(lavaan.mi::standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "def"))
indices <- rep(NA, length(hypothesis_elements))
for (i in seq_along(hypothesis_elements)) {
param <- hypothesis_elements[i]
indices[i] <- which(lavaan.mi::standardizedSolution.mi(full_ordinal_fit)[, 'label'] == param)
}
est <- lavaan.mi::standardizedSolution.mi(full_ordinal_fit)[indices, 'est.std'] # estimates
names(est) <- hypothesis_elements
VCOV <- standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "def.std.all")
hypothesis <-  "h1a_ + h1b_ + h1c_ + ms1_big3 + ms1_big4 < 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(hypothesis), comparison = "complement")
H2.1 <- "h3.1direct + h2_big4 + h2_h3_big4 > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2.1), comparison = "complement")
H2.2 <- "h3.2direct + t2_big4 < 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2.2), comparison = "complement")
# Is there any indirect effect?
H3.1any <- "abs(h3.1indirect) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1any = H3.1any), comparison = "complement")
# Is there partial mediation
H3.1part <- "abs(h3.1indirect) > 0 ; abs(h3.1direct) > 0"
# Is there full mediation
H3.1full <- "abs(h3.1indirect) > 0 ; abs(h3.1direct) = 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1part = H3.1part,
H3.1full = H3.1full), comparison = "unconstrained")
# If par. med supported, then:
# Is there par. med with negative indirect eff?
H3.1partneg <- "h3.1indirect > 0 ; abs(h3.1direct) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1partneg = H3.1partneg), comparison = "complement")
# Is there any indirect effect?
H3.2any <- "abs(h3.2indirect) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.2any = H3.2any), comparison = "complement")
# Is there any indirect effect?
H3.1any <- "abs(h3.1indirect) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1any = H3.1any), comparison = "complement")
# If par. med supported, then:
# Is there par. med with negative indirect eff?
H3.2partneg <- "h3.2indirect < 0 ; abs(h3.2direct) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.2partneg = H3.2partneg), comparison = "complement")
H2_BiG4 <- "h3.1direct + h2_big4 > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2_BiG4 = H2_BiG4), comparison = "complement")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2.1), comparison = "complement")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2.2), comparison = "complement")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1any = H3.1any), comparison = "complement")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1part = H3.1part,
H3.1full = H3.1full), comparison = "unconstrained")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1partneg = H3.1partneg), comparison = "complement")
# Is there any indirect effect?
H3.2any <- "abs(h3.2indirect) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.2any = H3.2any), comparison = "complement")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.2partneg = H3.2partneg), comparison = "complement")
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(H3.2part = H3.2part,
H3.2full = H3.2full), comparison = "unconstrained")
summary(full_ordinal_fit, std = T, fit = T)
save.image("nontheism.RData")
load("nontheism.RData")
sessionInfo()
?load
saveRDS(full_ordinal_fit)
?saveRD
?saveRDS
saveRDS(full_ordinal_fit, "full_ordinal_fit.RDS")
full_ordinal_fit
summary(full_ordinal_fit, fit = T, std = T, asymptotic = T)
library(semTools)
summary(full_ordinal_fit, fit = T, std = T, asymptotic = T)
full_ordinal_fit
saveRDS(full_ordinal_fit, "full_ordinal_fit.RDS")
sessionInfo()
library(semTools)
load("nontheism.RData")
summary(base_mi, fit = T)
sessionInfo()
library(lavaan.mi)
summary(base_mi, fit = T)
summary(controls_mi, fit = T, asymptotic = T)
library(semTools)
detach("package:semTools", unload = TRUE)
summary(controls_mi, fit = T, asymptotic = T)
summary(full_ordinal_fit, fit = T, std = T)
summary(full_ordinal_fit)
hypothesis_elements <-  rownames(standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "def"))
indices <- rep(NA, length(hypothesis_elements))
for (i in seq_along(hypothesis_elements)) {
param <- hypothesis_elements[i]
indices[i] <- which(lavaan.mi::standardizedSolution.mi(full_ordinal_fit)[, 'label'] == param)
}
est <- lavaan.mi::standardizedSolution.mi(full_ordinal_fit)[indices, 'est.std'] # estimates
names(est) <- hypothesis_elements
VCOV <- standardizedSolution.mi(full_ordinal_fit, return.vcov = TRUE, type = "def.std.all")
hypothesis <-  "h1a_ + h1b_ + h1c_ + ms1_big3 + ms1_big4 < 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(hypothesis), comparison = "complement")
H2.1 <- "h3.1direct + h2_big4 + h2_h3_big4 > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2.1), comparison = "complement")
H2.2 <- "h3.2direct + t2_big4 < 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H2.2), comparison = "complement")
# Is there any indirect effect?
H3.1any <- "abs(h3.1indirect) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1any = H3.1any), comparison = "complement")
# Is there partial mediation
H3.1part <- "abs(h3.1indirect) > 0 ; abs(h3.1direct) > 0"
# Is there full mediation
H3.1full <- "abs(h3.1indirect) > 0 ; abs(h3.1direct) = 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1part = H3.1part,
H3.1full = H3.1full), comparison = "unconstrained")
# If par. med supported, then:
# Is there par. med with negative indirect eff?
H3.1partneg <- "h3.1indirect > 0 ; abs(h3.1direct) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.1partneg = H3.1partneg), comparison = "complement")
# Is there any indirect effect?
H3.2any <- "abs(h3.2indirect) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.2any = H3.2any), comparison = "complement")
# Is there partial mediation
H3.2part <- "abs(h3.2indirect) > 0 ; abs(h3.2direct) > 0"
# Is there full mediation
H3.2full <- "abs(h3.2indirect) > 0 ; abs(h3.2direct) = 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(H3.2part = H3.2part,
H3.2full = H3.2full), comparison = "unconstrained")
# If par. med supported, then:
# Is there par. med with negative indirect eff?
H3.2partneg <- "h3.2indirect < 0 ; abs(h3.2direct) > 0"
restriktor::goric(est, VCOV = VCOV,
hypotheses = list(
H3.2partneg = H3.2partneg), comparison = "complement")
?lavaan.mi
fitmeasures(full_ordinal_fit)
compareFit(base_mi, controls_mi)
